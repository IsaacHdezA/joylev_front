<!-- TODO: Create Esc KeyPress directive to close options when pressing -->
<!-- TODO: Change Dynamic icons from IconDefinition to css classes
	   TODO: Static icons should stay the same (for dynamic, I mean, icons in the items list or smt) -->
<div
  class="container"
  clickedOutside
  (atOutsideClick)="closeItems()"
>
	<div class="relative"> <!-- Dropdown selector -->
		<div class="flex h-11 border rounded-xl overflow-hidden focus-within:border-black">
			<div class="flex justify-center items-center w-12 h-100 bg-slate-200 text-gray-400">
				<fa-icon [icon]="eyeIcon"></fa-icon>
			</div>
			<input
				type="text"
				class="w-full pl-3 py-2 pr-2 outline-none text-start"
				[placeholder]="placeholder"
				[(ngModel)]="selectedItem"
				(click)="showItems = true"
			/>
			<div
				class="flex justify-center items-center w-12 h-100 text-gray-400 cursor-pointer"
				(click)="showItems = !showItems"
			>
				<fa-icon class="fa fa-caret-down"></fa-icon>
			</div>
		</div>
		<div class="overflow-y-auto max-h-[20rem] bg-white mt-12 rounded-lg shadow absolute top-0 left-0 z-10 w-full">
			@if(showItems) {
				<ul>
					@for(item of items; track $index) {
						<li
							class="flex px-5 py-3 hover:bg-blue-200 active:bg-blue-500 active:text-white text-gray-700 cursor-pointer user-select-none"
							(click)="selectItem(item)"
						>
							<!-- <div class="flex justify-center items-center w-12">
								<fa-icon [icon]="globeIcon"></fa-icon>
							</div> -->
							{{ item }}
						</li>
					}
				</ul>
			}
		</div>
	</div>
</div>